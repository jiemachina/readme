# 问题

* [为什么Nosql](http://www.infoq.com/cn/news/2011/01/nosql-why/)

## 阅读总结


* 易扩展：安装简单
* 大数据量，高性能：大量数据对`关系数据库`产生的高IO和密集CPU计算，细粒度的cached
* 灵活性强：简化了关系数据库的关系维护;(例如：关系数据库中的个中约束,范式,冗余)
* 高可用：分布式集群

###其他阅读总结

* 为了帮助RDBMS扩展，你可以对表做逆向规范化处理，去掉约束，放宽事务保障，经过这些修改，RDBMS其实就是更类似一个NoSql产品。(把常用是数据结构存储在nosql中，这些数据在RDBMS,中可能需要join)

* 什么是大数据，目前来说几TB就算，当一天电脑的硬盘只有1TB的时候，那么这台电脑的数据库系统必定需要添加硬盘，或者使用其他电脑上的硬盘；如使用其他电脑上的硬盘，这算不算分布式存储呢？

* 如果把所有的数据存储在一个磁盘上，磁盘的访问速度会随着储存容量的增加而变慢，那么提高效率的方法就是把数据分散的存储到多个存储单元（磁盘）上，而不是集中在单一的大型存储中

* 性能扩展，两种方案：超级计算机（多核高功率CPU，超级存储）和 普通机器集群， 即垂直扩展和水平扩展
* MapReduce:<br> 
     ①.map 操做是对一些，一类，一堆大数据进行统一处理（分类）<br>
     ②.Reduce 操作是对这些处理过的数据，得到一个结论（聚合）<br>
* Nosql产品分类：面向列的有序存储，键/值存储， 文档数据库，图形数据库


* 面向列的有序存储：列和列族的区别。因为有序，按行键查询速率高。（bigtable, Hbase, Hadoop）
* 键/值存储：键索引，查询速度快(memcached, ehcache, redis)
* 文档数据库:  文档索引，不仅包括主标示符，还包括文档属性（MongoDB和CouchDB）
* 图形数据库（和xml数据存储）：


###个人思考

其实在使用NoSql技术的主要目的是`提高服务器的数据处理性能`；通俗的说，就是单位时间内处理数据的速度要快；那怎么样才能够提高单位时间内处理数据的速度快呢；有两个方面，是CPU计算时间短和数据传输快；  

想要CPU计算快，就需要抛弃传统数据库中的各种约束的计算，还有是`最直接`的拿到数据，而不是我们平时从数据库中拿数据时候的各种select加Join表，创建虚拟表(这些操作都会增加CPU的处理时间)；所以我们抛弃这些所有，就可以直接使用类似MongoDB这些NoSql产品；

那想要怎么样才能提高数据传输速度呢？答案是把数据放到内存；大家都是知道内存的速度比硬盘的读写速度要快，所以把一些不需要经常变的常用的数据，放到内存里面，这样不仅是可以提高读写速度；还有一点是内存离CPU近（逻辑上）；所以也能够减少速度的传递时间；所以我们可以使用类似Memcache的Nosql产品；

基于以上的种种，去约束，去join，数据驻留内存等一些列的操作，就会出现大量的数据冗余；但是好处就是对于整台服务器或者服务集群来言，它的处理速度会成倍的提升；这应该就是空间换时间的理论实现吧；


## 使用中的NoSql

* [Memcache](http://memcached.org/)
* [MongDB](http://www.mongodb.org/)
* [Redis](http://www.redis.io/)


## 分布式和集群的区别


其实分布式和集群不仅仅是在说计算机方面的领域，因为我们搞IT的，所以往往会把这两个概念放到计算机领域；那他们的区别是什么呢？

* 无论是`分布式`还是`集群`，首先我理解，都是`N个个体在协同工作`，完成一个大任务，并`提升`一个任务的服务质量；

* 分布式就是很多处理`不同类型`任务的集合  

* 集群就是一群有处理`同类`任务的集合

分布式的作用是：把一个处理很困难`大任务`，分成N个`小任务`，让每个个体去完成自己的任务；再把所有的小问题集合在一起；当所有的小任务都处理好了；那么大任务也完成；说白了：`化整为零`

集群的作用是：把一堆（成千上万）类似的任务， 分给N个能够处理这类任务的个体；说白了：`人多力量大`


## Memcache

环境Ubuntu

* 安装Memcache
	
		sudo apt-get install memcached
	
* 启动服务
		
		sudo service memcached start# 其他(restart, stop)

* 客户端连接
	
		telnet 127.0.0.1 11211
		
	[常用命令参考](http://lzone.de/articles/memcached.htm)
	
	[参考二](https://github.com/memcached/memcached/blob/master/doc/protocol.txt)


* 命令参数

		<command name> <key> <flags> <exptime> [noreply]
		cas <key> <flags> <exptime> <bytes> <cas unique> [noreply]
	
* set 操作
	
		set abc 1 60 5
		asdfd

	asdfd第二行是值
	
* get 操作
		
		get abc

* 退出 quit



## MongoDB

环境Ubuntu

* 安装MongoDB
	
		sudo apt-get update
		sudo apt-get install mongodb
		
* 启动服务

* 启动客户端




















